<ion-content>
    <ion-fab vertical="bottom" horizontal="start" slot="fixed">
        <ion-fab-button>
            <ion-icon name="add"></ion-icon>
        </ion-fab-button>
        <ion-fab-list side="top">
            <ion-button expand="full" color="secondary" (click)="goToAddPoule()">
                Start nieuwe poule
            </ion-button>
            <ion-button expand="full" color="secondary" (click)="joinPoule()">
                Doe mee met een poule
            </ion-button>
        </ion-fab-list>
    </ion-fab>
    <ion-card color="secondary">
        <ion-card-header>
            <ion-card-title>
                Jouw poules
            </ion-card-title>
            <hr class="primary_line">
        </ion-card-header>
        <ng-container>
            <ion-card-content>
                <div *ngIf="poules?.length > 0">
                    <ion-item lines="full" color="primary">Poules</ion-item>
                    <ng-container *ngFor="let poule of poules; let i = index">
                        <ion-item lines="full" color="tertiary" (click)="navigateToPoule(poule, i)">
                            <ion-avatar slot="start">
                                <ngx-avatar size="40" bgColor="#25B973" borderColor="#25B973" fgColor="#1F2421"
                                            [value]="determinePositionFromUser(poule).toString()"></ngx-avatar>
                            </ion-avatar>
                            <ion-label class="ion-text-wrap">
                                <ion-text>
                                    <ion-row>
                                        <ion-col>
                                            <h3>{{poule?.poule_name}}</h3>
                                            <h3 *ngIf="poule?.id !== 0">{{poule?.deelnemers?.length}} deelnemers</h3>
                                            <h3 *ngIf="poule?.id === 0">&nbsp;</h3>
                                        </ion-col>
                                    </ion-row>
                                </ion-text>
                            </ion-label>
                        </ion-item>
                    </ng-container>
                </div>
                <div *ngIf="poules?.length === 0">
                    <ion-text>
                        Start of doe mee aan een poule en ga de strijd aan met je familie en vrienden.
                    </ion-text>
                    <ion-button class="sublink" expand="full" color="primary" fill="solid" (click)="goToAddPoule()">
                        Start
                        nieuwe poule
                    </ion-button>
                    <ion-button class="sublink" expand="full" color="primary" fill="solid" (click)="joinPoule()">
                        Doe mee met een poule
                    </ion-button>
                </div>
            </ion-card-content>
        </ng-container>
    </ion-card>
</ion-content>
